<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE10">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>Election</title>
    <link href="/election/Content/css?v=iT84xJTDETFc3NJR8Ka7mfSP1GBLd-zyJsvZHYIz5No1" rel="stylesheet"/>

    <script src="/election/bundles/modernizr?v=wBEWDufH_8Md-Pbioxomt90vm6tJN2Pyy9u9zHtWsPo1"></script>


</head>
<body>
    <script src="/election/bundles/jquery?v=FVs3ACwOLIVInrAl5sdzR2jrCDmVOWFbZMY6g6Q0ulE1"></script>

    <div class="container body-content">
        

<div id="ElectionHeader" class="row text-center">
    <div class="col-md-12">
        <h2 id="ElectionName"></h2>
        <i class="fa fa-calendar"></i><span id="ElectionDate"></span>
        <input type="hidden" value="" id='Electionfl'>
</div>
</div>
<hr />
<div class="row">
    <div id="OverallSeats" class="col-md-12 text-center">
        <div id="TotalSeats" class="seatInfo"><i class="fa fa-th"></i><b>Total Seats: </b></div>
        <div id="SeatsDeclared" class="seatInfo"><i class="fa fa-handshake-o"></i><b>Seats Declared: </b></div>
        <div id="SeatsAvailable" class="seatInfo"><i class="fa fa-question-circle-o"></i><b>Seats Available: </b></div>
    </div>
</div>
<div class="row">
    <div class="col-md-12">
        <div id="virtualCouncilChamber">

        </div>
    </div>
</div>
<div id="autorefresh">Auto Refresh Page <input style="font-size: small;" type="checkbox" name="autorf" id="autorf" value=""><a style="font-size: x-small; padding-left: 5px;" onclick="ResetMap()">Reset</a></div>
<div style="padding-bottom: 10px;"></div>

<div class="row">
    <div class="col-md-7">
        <div id="search"></div>
        <div id="map" style="height: 100%; position:relative">
            <img id="loadingImg" src="/election/Content/loading.gif" style="position:absolute; z-index:100;" />
        </div>

    </div>
    <div class="col-md-5">
        <table id="constituencies-table" class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Area</th>
                    <th>Party</th>
                </tr>
            </thead>
        </table>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <div id="ConstituencyHead" class="FloatLeft">
            <div class="FloatLeft">
                <h2 id="ConstituencyName"></h2>
            </div>
            <div id="ConstituencyColour" class="FloatLeft"></div>
        </div>
    </div>
</div>
<div id="ConstitDetailsRow" class="row">
    <div class="col-md-3">
        <h4>Details</h4>
        <p id="RegisteredVoters"></p>
        <p id="Vacancies"></p>
        <p id="Turnout"></p>
        <p id="BallotPapersIssued"></p>
        <p id="VotesCast"></p>
        <p id="SpoiltPapers"></p>
    </div>
    <div class="col-md-9" id="swing">
        <div class="row">
            <div class="col-md-12"><h4>Swing</h4></div>
            
            <div class="col-md-7">
                <table id="VoteChangeTable" class="table table-striped table-bordered">
                    <thead>
                        <tr>
                            <th>Party</th>
                            <th>Previous</th>
                            <th>Current</th>
                            <th>Change</th>
                        </tr>
                    </thead>
                </table>
            </div>
            <div class="col-md-5">
                <div class="text-center">
                    <h2 id="SwingPercent"></h2>
                    <p id="AffiliationFrom"></p>
                    <p>To</p>
                    <p id="AffiliationTo"></p>
                    <div id="Swing"></div>
                </div>
            </div>
        </div>
    </div>
</div>
<hr />
<div class="row" id="thecandidates">
    <div class="col-md-5">
        <h4>Candidates</h4>
        <div id="CandidateInfo"></div>
    </div>
    <div class="col-md-7">
        <h4 id="customSecHeading2"></h4>
        <div id="ResultGraphsWrapper">
            <a id="columnChartIcon" class="btn btn-sm" aria-label="Click for column chart of votes"><i aria-hidden="true" class="fa fa-bar-chart fa-lg"></i></a>
            <a id="pieChartIcon" class="btn btn-sm" aria-label="Click for pie chart of votes"><i aria-hidden="true" class="fa fa-pie-chart fa-lg"></i></a>
            <div id="ResultsBar"></div>
        </div>
        <table id="stages-table" class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Candidate</th>
                    <th>Votes</th>
                    <th>Transfer</th>
                </tr>
            </thead>
        </table>
        <div class="text-center"><ul class="pagination pagination"></ul></div>
    </div>
</div>

<input type="hidden" id="selectedCon">

        <hr />
        <footer>

        </footer>
    </div>

    <script src="/election/bundles/bootstrap?v=2Fz3B0iizV2NnnamQFrx-NbYJNTFeBJ2GM05SilbtQU1"></script>

    
<link rel="stylesheet" href="https://js.arcgis.com/3.17/esri/css/esri.css" />
<link href="/election/bundles/electionstyles?v=2Bo3xx7P4lMEOsoW_GEb5peQR8Q01NaZoM8Mt3l2ANs1" rel="stylesheet"/>

    <style>
        #ConstituencyHead {
            width: 100%;
            clear: both;
        }

        #ConstituencyColour {
            width: 33px;
            height: 33px;
            /*border: 1px black solid;*/
            margin-top: 20px;
            margin-bottom: 10px;
            margin-left: 20px;
            -ms-border-radius: 4px;
            border-radius: 17px;
        }

        .candBlock {
            width: 100%;
            float: left;
        }

        .candColour {
            margin-right: 10px;
            float: left;
            margin-top: 3px;
            width: 15px;
            height: 15px;
            -ms-border-radius: 12px;
            border-radius: 14px;
            display: inline-block;
        }

        .candInfo {
            margin-bottom: 20px;
            float: left;
            clear: right;
        }

        .FloatLeft {
            float: left;
        }

        #loadingImg {
            z-index: 100;
            position: absolute;
            top: 50%;
            left: 50%;
            -webkit-transform: translate(-50%,-50%);
            -moz-transform: translate(-50%,-50%);
            -ms-transform: translate(-50%,-50%);
            -o-transform: translate(-50%,-50%);
            transform: translate(-50%,-50%);
        }

        #ConstitDetailsRow i, #OverallSeats i, #ElectionHeader i {
            margin-right: 10px;
        }

        .arcgisSearch {
            position: absolute !important;
            z-index: 100 !important;
        }

        .esriSimpleSliderTL {
            top: 40px !important;
        }

        #legend {
            padding: 10px;
            background-color: #fff;
        }

        #dropDownButtonContainer {
            position: absolute;
            right: 0;
            left: auto;
            z-index: 100;
            width: 150px;
            border: 1px black solid;
            -ms-border-bottom-left-radius: 4px;
            border-bottom-left-radius: 4px;
            -ms-border-bottom-right-radius: 4px;
            border-bottom-right-radius: 4px;
        }

        .LegendDropdown {
            background-color: #ffffff;
            padding: 6px 24px 6px 12px;
        }

        .seatInfo {
            display: inline-block;
            margin-right: 20px;
        }
    </style>

    

    <script src="/election/DataTables/datatables.min.js"></script>
<script src="https://js.arcgis.com/3.17"></script>
<script src="/election/Content/googleCharts.js"></script>
    <script src="/election/Content/Mapping.js"></script>
<script src="/election/Content/global.js"></script>
    <script>
        $(document).ready(function () {
            if (getCookie('autoRefresh') == 'true') {
                $('#autorf').attr('checked', 'checked');
            }
            setTimeout(checkRefresh, 600000);
        });

        function checkRefresh() {
            if (document.getElementById('autorf').checked) {
                document.cookie = "autoRefresh=true;";
                location.reload();
            } else {
                document.cookie = "autoRefresh=false;";
                setTimeout(checkRefresh, 600000);
            }
        }

        function getCookie(cname) {
            var name = cname + "=";
            var decodedCookie = decodeURIComponent(document.cookie);
            var ca = decodedCookie.split(';');
            for(var i = 0; i <ca.length; i++) {
                var c = ca[i];
                while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                }
            }
            return "";
        }
    </script>

</body>
</html>
